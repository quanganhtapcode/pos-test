<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>H·ªá th·ªëng POS - B√°n h√†ng n·ªôi b·ªô</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <h1 class="header__title">H·ªá th·ªëng POS</h1>
                <div class="header__cart" id="cartIcon">
                    <span class="cart-icon">üõí</span>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
            </div>
        </div>
        
        <!-- Navigation Controls moved under header -->
        <div class="header-nav hidden" id="headerNav">
            <!-- View Toggle Controls -->
            <div class="view-toggle">
                <button class="btn btn--nav toggle-btn active" data-view="brand">
                    <span class="nav-icon">üè∑Ô∏è</span>
                    <span>Theo h√£ng</span>
                </button>
                <button class="btn btn--nav toggle-btn" data-view="category">
                    <span class="nav-icon">üìÇ</span>
                    <span>Theo lo·∫°i</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Pricing Mode Selection Screen -->
        <div class="screen" id="pricingScreen">
            <div class="container">
                <div class="pricing-selection">
                    <h2>Ch·ªçn ch·∫ø ƒë·ªô ƒë·ªãnh gi√°</h2>
                    <div class="pricing-buttons">
                        <button class="btn btn--primary btn--lg pricing-btn" data-mode="auto">
                            <span>Gi√° t·ª± ƒë·ªông</span>
                            <small>S·ª≠ d·ª•ng gi√° t·ª´ h·ªá th·ªëng</small>
                        </button>
                        <button class="btn btn--secondary btn--lg pricing-btn" data-mode="manual">
                            <span>T·ª± nh·∫≠p gi√°</span>
                            <small>C√≥ th·ªÉ ch·ªânh s·ª≠a gi√°</small>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Product Selection Screen -->
        <div class="screen hidden" id="productScreen">
            <div class="container">
                <!-- Brand Navigation -->
                <div class="brand-nav" id="brandNav">
                    <div class="brand-nav__container" id="brandNavContainer">
                        <button class="brand-nav__item active" data-brand="castrol">Castrol</button>
                        <button class="brand-nav__item" data-brand="caltex">Caltex</button>
                        <button class="brand-nav__item" data-brand="abro">ABRO</button>
                        <button class="brand-nav__item" data-brand="threebond">Threebond</button>
                    </div>
                </div>

                <!-- Category Navigation (when in category view) -->
                <div class="category-nav hidden" id="categoryNav">
                    <div class="category-nav__container">
                        <button class="category-nav__item active" data-category="nhot_oto">Nh·ªõt √¥ t√¥</button>
                        <button class="category-nav__item" data-category="nhot_xe_may">Nh·ªõt xe m√°y</button>
                        <button class="category-nav__item" data-category="keo_gioang">Keo gioƒÉng</button>
                        <button class="category-nav__item" data-category="keo_2_thanh_phan">Keo 2 th√†nh ph·∫ßn</button>
                    </div>
                </div>

                <!-- Product Grid -->
                <div class="product-grid" id="productGrid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Cart Screen -->
        <div class="screen hidden" id="cartScreen">
            <div class="container">
                <div class="cart-header">
                    <h2>Gi·ªè h√†ng</h2>
                    <button class="btn btn--secondary btn--sm" id="clearCart">üóëÔ∏è X√≥a h·∫øt</button>
                </div>
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be loaded here -->
                </div>
            </div>
            
            <div class="cart-summary">
                <div class="cart-total">
                    <strong>T·ªïng c·ªông: <span id="cartTotal">0‚Ç´</span></strong>
                </div>
                <button class="btn btn--primary btn--full-width" id="proceedToCheckout">Thanh to√°n</button>
            </div>
        </div>

        <!-- Checkout Screen -->
        <div class="screen hidden" id="checkoutScreen">
            <div class="container">
                <div class="checkout-header">
                    <h2>Thanh to√°n</h2>
                    <button class="btn btn--secondary btn--sm" id="backToCart">‚Üê Quay l·∫°i gi·ªè h√†ng</button>
                </div>
                
                <div class="checkout-content">
                    <div class="checkout-items" id="checkoutItems">
                        <!-- Checkout items will be loaded here -->
                    </div>
                    
                    <div class="checkout-adjustments">
                        <h3>ƒêi·ªÅu ch·ªânh gi√°</h3>
                        <div class="adjustment-controls">
                            <div class="form-group">
                                <label class="form-label">Lo·∫°i gi·∫£m gi√°</label>
                                <select class="form-control" id="discountType">
                                    <option value="amount">Gi·∫£m s·ªë ti·ªÅn c·ªë ƒë·ªãnh</option>
                                    <option value="none">Kh√¥ng gi·∫£m gi√°</option>
                                    <option value="percent">Gi·∫£m ph·∫ßn trƒÉm</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Gi√° tr·ªã gi·∫£m</label>
                                <input type="number" class="form-control" id="discountValue" placeholder="0" min="0">
                            </div>
                        </div>
                    </div>
                    
                    <div class="checkout-notes">
                        <div class="form-group">
                            <label class="form-label">Ghi ch√∫ ƒë∆°n h√†ng</label>
                            <textarea class="form-control" id="orderNotes" rows="3" placeholder="Nh·∫≠p ghi ch√∫..."></textarea>
                        </div>
                    </div>
                </div>
                
                <div class="checkout-summary">
                    <div class="summary-row">
                        <span>T·∫°m t√≠nh:</span>
                        <span id="checkoutSubtotal">0‚Ç´</span>
                    </div>
                    <div class="summary-row">
                        <span>Gi·∫£m gi√°:</span>
                        <span id="checkoutDiscount">0‚Ç´</span>
                    </div>
                    <div class="summary-row total">
                        <strong>T·ªïng c·ªông: <span id="checkoutTotal">0‚Ç´</span></strong>
                    </div>
                    <button class="btn btn--primary btn--full-width" id="completeOrder">Ho√†n th√†nh ƒë∆°n h√†ng</button>
                </div>
            </div>
        </div>

        <!-- Order History Screen -->
        <div class="screen hidden" id="orderHistoryScreen">
            <div class="container">
                <div class="order-history-header">
                    <h2>L·ªãch s·ª≠ ƒë∆°n h√†ng</h2>
                    <button class="btn btn--secondary btn--sm" id="backToProductsFromHistory">‚Üê Quay l·∫°i</button>
                </div>
                <div class="order-list" id="orderList">
                    <!-- Order history will be loaded here -->
                </div>
            </div>
        </div>
    </main>

    <script src="app.js"></script>

    <!-- Apple-style Bottom Navigation (Footer) -->
    <nav class="bottom-nav" id="bottomNav">
        <div class="header-bottom-nav">
            <button class="nav-item active" id="navProducts">
                <span class="nav-icon">üì¶</span>
                <span>S·∫£n ph·∫©m</span>
            </button>
            <button class="nav-item" id="navCart">
                <span class="nav-icon">üõí</span>
                <span>Gi·ªè h√†ng</span>
                <span class="nav-badge" id="navCartBadge">0</span>
            </button>
            <button class="nav-item" id="navHistory">
                <span class="nav-icon">üìã</span>
                <span>L·ªãch s·ª≠</span>
            </button>
        </div>
    </nav>

    <script>
        // NgƒÉn ch·∫∑n zoom b·∫±ng wheel v√† gesture
        document.addEventListener('wheel', function(e) {
            if (e.ctrlKey) {
                e.preventDefault();
            }
        }, { passive: false });

        // NgƒÉn ch·∫∑n gesture zoom tr√™n touchpad
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        document.addEventListener('gesturechange', function(e) {
            e.preventDefault();
        });

        document.addEventListener('gestureend', function(e) {
            e.preventDefault();
        });

        // NgƒÉn ch·∫∑n double-tap zoom
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // NgƒÉn ch·∫∑n pinch zoom
        document.addEventListener('touchmove', function(event) {
            if (event.scale !== 1) {
                event.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>